!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.AnimatedSVGLib=t(require("React")):e.AnimatedSVGLib=t(e.React)}(this,(e=>(()=>{"use strict";var t={883:t=>{t.exports=e}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};n.r(i),n.d(i,{Animate:()=>h,AnimateMotion:()=>m,AnimateTransform:()=>l,AnimationGroup:()=>g,Circle:()=>a,Line:()=>c,Path:()=>u,Rect:()=>o,SVG:()=>b,SVGElement:()=>s,Timeline:()=>f,useSvgAnimation:()=>w});class s{getChildren(){return this.children}addChild(e){this.children.push(e)}getTagName(){return this.tagName}constructor(e,t={}){this.children=[],this.tagName=e,this.attributes={};for(const[e,r]of Object.entries(t))void 0!==r&&(this.attributes[e]="number"==typeof r?r.toString():r)}add(e){return this.children.push(e),this}removeChild(e){const t=this.children.indexOf(e);return-1!==t&&this.children.splice(t,1),this}animate(e){throw new Error('Method "animate" must be implemented by subclasses or handled externally')}toString(){const e=Object.entries(this.attributes).filter((([e,t])=>void 0!==t)).map((([e,t])=>`${e}="${t}"`)).join(" "),t=this.children.map((e=>e.toString())).join("");return`<${this.tagName} ${e}>${t}</${this.tagName}>`}}class a extends s{constructor(e){super("circle",e)}animate(e){throw new Error("Use SVG.animateChild to animate Circle elements")}}class o extends s{constructor(e){super("rect",e)}animate(e){throw new Error("Use SVG.animateChild to animate Rect elements")}}class c extends s{constructor(e){super("line",e)}animate(e){throw new Error("Use SVG.animateChild to animate Line elements")}}class u extends s{constructor(e){super("path",e)}animate(e){throw new Error("Use SVG.animateChild to animate Path elements")}}class h extends s{constructor(e){const t=Object.assign(Object.assign({attributeName:e.attribute,dur:e.dur,repeatCount:e.repeatCount||"indefinite"},e.begin&&{begin:e.begin}),e.easing&&{calcMode:"spline",keySplines:d(e.easing)});if(e.keyframes&&e.keyframes.length>0)t.values=e.keyframes.map((e=>e.value.toString())).join(";"),t.keyTimes=e.keyframes.map((e=>e.offset)).join(";");else{if(void 0===e.from||void 0===e.to)throw new Error('AnimationOptions must have "from" and "to" properties if keyframes are not provided');t.from=e.from.toString(),t.to=e.to.toString()}super("animate",t)}}class l extends s{constructor(e){var t;const r=Object.assign(Object.assign({attributeName:"transform",type:null!==(t=e.type)&&void 0!==t?t:"rotate",dur:e.dur,repeatCount:e.repeatCount||"indefinite"},e.begin&&{begin:e.begin}),e.easing&&{calcMode:"spline",keySplines:d(e.easing)});if(e.keyframes&&e.keyframes.length>0)r.values=e.keyframes.map((e=>e.value.toString())).join(";"),r.keyTimes=e.keyframes.map((e=>e.offset)).join(";");else{if(void 0===e.from||void 0===e.to)throw new Error('AnimationOptions must have "from" and "to" properties if keyframes are not provided');r.from=e.from.toString(),r.to=e.to.toString()}super("animateTransform",r)}}class m extends s{constructor(e){if(!e.motionPath)throw new Error("AnimateMotion requires a motionPath property");super("animateMotion",Object.assign(Object.assign(Object.assign(Object.assign({dur:e.dur,repeatCount:e.repeatCount||"indefinite"},e.begin&&{begin:e.begin}),e.easing&&{calcMode:"spline",keySplines:d(e.easing)}),e.motionPath.rotate&&{rotate:e.motionPath.rotate.toString()}),void 0!==e.motionPath.align&&{path:e.motionPath.path,rotate:e.motionPath.align?"auto":"0"}));const t=new s("mpath",{"xlink:href":`#${e.motionPath.path}`});this.add(t)}}function d(e){switch(e){case"ease-in":return"0.42 0 1 1";case"ease-out":return"0 0 0.58 1";case"ease-in-out":return"0.42 0 0.58 1";case"cubic-bezier(0.1, 0.7, 1.0, 0.1)":return"0.1 0.7 1.0 0.1";default:return"0 0 1 1"}}function p(e){if(!e.motionPath&&!e.attribute)throw new Error('AnimationOptions must have an "attribute" property or "motionPath"');if(!e.dur)throw new Error('AnimationOptions must have a "dur" property');return e.motionPath?new m(e):"transform"===e.attribute?new l(e):new h(e)}class g{constructor(e){this.currentPhase=null,this.element=e.element,this.phases=e.phases,this.trigger=e.trigger,this.trigger?this.setupTrigger():this.playPhase("enter")}setupTrigger(){var e;if(this.trigger)if("scroll"===this.trigger.type){const t=this.trigger.target?document.querySelector(this.trigger.target):window;if(!t)return;const r=null!==(e=this.trigger.threshold)&&void 0!==e?e:.5,n=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.intersectionRatio>=r?"enter"!==this.currentPhase&&this.playPhase("enter"):"exit"!==this.currentPhase&&this.playPhase("exit")}))}),{threshold:r});t===window?n.observe(document.documentElement):t instanceof Element&&n.observe(t)}else if("click"===this.trigger.type){const e=this.trigger.target?document.querySelector(this.trigger.target):null;if(!e)return;e.addEventListener("click",(()=>{"enter"!==this.currentPhase?this.playPhase("enter"):this.playPhase("exit")}))}}playPhase(e){if(!this.phases[e])return;this.currentPhase=e;const t=this.phases[e];Object.entries(t).forEach((([e,t])=>{const r=p(Object.assign(Object.assign({},t),{attribute:e}));this.element.add(r)}))}stop(){this.element.getChildren().filter((e=>!(e instanceof s&&["animate","animateTransform","animateMotion"].includes(e.getTagName()))))}}class f{constructor(){this.groups=[]}addGroup(e){const t=new g(e);return this.groups.push(t),t}stopAll(){this.groups.forEach((e=>e.stop()))}}class b extends s{constructor(e){super("svg",e),this.timelineInstance=new f}circle(e){const t=new a(e);return this.add(t),t}rect(e){const t=new o(e);return this.add(t),t}line(e){const t=new c(e);return this.add(t),t}path(e){const t=new u(e);return this.add(t),t}animate(e){const t=p(e);return this.add(t),t}animateChild(e,t){const r=p(t);return e.add(r),r}timeline(e){return this.timelineInstance.addGroup(e)}stopAnimations(){this.timelineInstance.stopAll()}}var y=n(883);function w(e,t){const r=(0,y.useRef)(null);return(0,y.useEffect)((()=>{if(e.current){r.current=new b({width:t.width,height:t.height}),t.elements.forEach((e=>{let t;switch(e.type){case"circle":t=r.current.circle(e.attributes);break;case"rect":t=r.current.rect(e.attributes);break;case"line":t=r.current.line(e.attributes);break;case"path":t=r.current.path(e.attributes);break;default:throw new Error(`Unsupported element type: ${e.type}`)}e.animations&&e.animations.forEach((e=>{r.current.animateChild(t,e)}))}));const n=r.current.toString();e.current.innerHTML=n}return()=>{e.current&&(e.current.innerHTML="")}}),[e,t]),r.current}return console.log("Index.ts loaded"),console.log("AnimatedSVGLib should be available now"),i})()));