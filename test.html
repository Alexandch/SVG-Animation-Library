<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Animated SVG Library</title>
  <style>
    #svgContainer {
      border: 1px solid black;
    }
    #svgContainer svg {
      display: block;
    }
  </style>
</head>
<body>
  <div id="svgContainer"></div>

  <script src="./dist/bundle.js"></script>
  <script>
    console.log('AnimatedSVGLib:', AnimatedSVGLib);
    const { SVG } = AnimatedSVGLib;
    console.log('SVG class:', SVG);

    const svg = new SVG({ width: 300, height: 300 });
    console.log('SVG instance:', svg);

    const circle = svg.circle({ cx: 100, cy: 100, r: 20, fill: 'red' });
    svg.animateChild(circle, {
      attribute: 'r',
      from: 20,
      to: 40,
      dur: '1s',
      repeatCount: 'indefinite',
    });
    console.log('Circle with animation:', circle);

    const rect = svg.rect({ x: 50, y: 50, width: 30, height: 30, fill: 'blue' });
    svg.animateChild(rect, {
      attribute: 'transform',
      type: 'rotate',
      from: '0 65 65',
      to: '360 65 65',
      dur: '2s',
      repeatCount: 'indefinite',
    });
    console.log('Rect with animation:', rect);

    const line = svg.line({ x1: 50, y1: 150, x2: 150, y2: 150, stroke: 'green', 'stroke-width': 2 });
    svg.animateChild(line, {
      attribute: 'transform',
      type: 'translate',
      from: '0 0',
      to: '50 0',
      dur: '1.5s',
      repeatCount: 'indefinite',
      begin: '0.5s',
    });
    console.log('Line with animation:', line);

    const path = svg.path({ d: 'M 200 100 Q 250 50 300 100', stroke: 'purple', 'stroke-width': 2, fill: 'none' });
    svg.animateChild(path, {
      attribute: 'transform',
      type: 'scale',
      from: '1 1',
      to: '1.5 1.5',
      dur: '1s',
      repeatCount: 'indefinite',
      begin: '1s',
    });
    console.log('Path with animation:', path);

    const svgMarkup = svg.toString();
    console.log('Generated SVG markup:', svgMarkup);

    const svgContainer = document.getElementById('svgContainer');
    const svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svgElement.innerHTML = svgMarkup;
    svgContainer.appendChild(svgElement.firstChild);

    console.log('SVG container innerHTML:', svgContainer.innerHTML);

    // Удалим прямоугольник через 5 секунд
    setTimeout(() => {
      svg.removeChild(rect);
      const updatedMarkup = svg.toString();
      console.log('Updated SVG markup after removing rect:', updatedMarkup);
      svgContainer.innerHTML = '';
      const newSvgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      newSvgElement.innerHTML = updatedMarkup;
      svgContainer.appendChild(newSvgElement.firstChild);
    }, 5000);
  </script>
</body>
</html>